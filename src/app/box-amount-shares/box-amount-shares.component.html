<div nz-row style="margin-top: 50px;" *ngIf="!isvisible">
  <div nz-col nzSpan="24">
    <nz-card [nzLoading]="isloading" [nzExtra]="extraTemplate" nzTitle="Box Shares" *ngIf="boxShares.length >0">
      <ng-template #extraTemplate>
        <a (click)="onUpdate(boxShares[0])">Update</a>
      </ng-template>
      <div nz-row>
        <div nz-col nzSpan="24">
          <div nz-row>
            <div nz-col nzSpan="6">
              <nz-form-item>
                <nz-form-label nzSpan="8">Product Name</nz-form-label>
                <nz-form-control nzSpan="14">
                 {{boxShares[0].Product_Name}}
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="6">
              <nz-form-item>
                <nz-form-label nzSpan="8">Description</nz-form-label>
                <nz-form-control nzSpan="14">
                 {{boxShares[0].Description}}
                </nz-form-control>
              </nz-form-item>
            </div>
              <div nz-col nzSpan="6">
              <nz-form-item>
                <nz-form-label nzSpan="8">Price</nz-form-label>
                <nz-form-control nzSpan="14">
                 {{boxShares[0].Price}}
                </nz-form-control>
              </nz-form-item>
            </div>
              <div nz-col nzSpan="6">
              <nz-form-item>
                <nz-form-label nzSpan="8">Image</nz-form-label>
                <nz-form-control nzSpan="14">
                  <span *ngIf="boxShares[0].Image_Available">
                    <a target="_blank" [attr.href]="boxShares[0].Image_Data.ImageOriginal">Click to View</a>
                  </span>
                
                </nz-form-control>
              </nz-form-item>
            </div>
          </div>
          <div nz-row>
            <div nz-col nzSpan="24">
              <h3><b>Box One</b></h3>
              <div nz-row>
                <div nz-col nzSpan="4">
                  <nz-form-item>
                    <nz-form-label nzSpan="14">Cash Percent</nz-form-label>
                    <nz-form-control nzSpan="8">
                     {{boxShares[0].Box_One.Cash_Percent}}
                    </nz-form-control>
                  </nz-form-item>
                </div>
                <div nz-col nzSpan="4">
                  <nz-form-item>
                    <nz-form-label nzSpan="14">Purchase Percent</nz-form-label>
                    <nz-form-control nzSpan="8">
                     {{boxShares[0].Box_One.Purchace_Percent}}
                    </nz-form-control>
                  </nz-form-item>
                </div>
                  <div nz-col nzSpan="4">
                    <nz-form-item>
                      <nz-form-label nzSpan="14">Gift Percent</nz-form-label>
                      <nz-form-control nzSpan="8">
                       {{boxShares[0].Box_One.Gift_Percent}}
                      </nz-form-control>
                    </nz-form-item>
                </div>
                  <div nz-col nzSpan="4">
                    <nz-form-item>
                      <nz-form-label nzSpan="14">Coupon Percent</nz-form-label>
                      <nz-form-control nzSpan="8">
                       {{boxShares[0].Box_One.Upgrade_Coupon_Percent}}
                      </nz-form-control>
                    </nz-form-item>
                </div>
                  <div nz-col nzSpan="4">
                    <nz-form-item>
                      <nz-form-label nzSpan="14">Nine Level Percent</nz-form-label>
                      <nz-form-control nzSpan="8">
                       {{boxShares[0].Box_One.Nine_Level_Percent}}
                      </nz-form-control>
                    </nz-form-item>
                </div>
              </div>
            </div>
          </div>
          <div nz-row>
            <div nz-col nzSpan="24">
              <h3><b>Box Two</b></h3>
              <div nz-row>
                <div nz-col nzSpan="4">
                  <nz-form-item>
                    <nz-form-label nzSpan="14">Cash Percent</nz-form-label>
                    <nz-form-control nzSpan="8">
                     {{boxShares[0].Box_Two.Cash_Percent}}
                    </nz-form-control>
                  </nz-form-item>
                </div>
                <div nz-col nzSpan="4">
                  <nz-form-item>
                    <nz-form-label nzSpan="14">Purchase Percent</nz-form-label>
                    <nz-form-control nzSpan="8">
                     {{boxShares[0].Box_Two.Purchace_Percent}}
                    </nz-form-control>
                  </nz-form-item>
                </div>
                  <div nz-col nzSpan="4">
                    <nz-form-item>
                      <nz-form-label nzSpan="14">Gift Percent</nz-form-label>
                      <nz-form-control nzSpan="8">
                       {{boxShares[0].Box_Two.Gift_Percent}}
                      </nz-form-control>
                    </nz-form-item>
                </div>
                  <div nz-col nzSpan="4">
                    <nz-form-item>
                      <nz-form-label nzSpan="14">Coupon Percent</nz-form-label>
                      <nz-form-control nzSpan="8">
                       {{boxShares[0].Box_Two.Upgrade_Coupon_Percent}}
                      </nz-form-control>
                    </nz-form-item>
                </div>
                  <div nz-col nzSpan="4">
                    <nz-form-item>
                      <nz-form-label nzSpan="14">Nine Level Percent</nz-form-label>
                      <nz-form-control nzSpan="8">
                       {{boxShares[0].Box_Two.Nine_Level_Percent}}
                      </nz-form-control>
                    </nz-form-item>
                </div>
              </div>
            </div>
          </div>
          <div nz-row>
            <div nz-col nzSpan="24">
              <h3><b>Box Three</b></h3>
              <div nz-row>
                <div nz-col nzSpan="4">
                  <nz-form-item>
                    <nz-form-label nzSpan="14">Cash Percent</nz-form-label>
                    <nz-form-control nzSpan="8">
                     {{boxShares[0].Box_Three.Cash_Percent}}
                    </nz-form-control>
                  </nz-form-item>
                </div>
                <div nz-col nzSpan="4">
                  <nz-form-item>
                    <nz-form-label nzSpan="14">Purchase Percent</nz-form-label>
                    <nz-form-control nzSpan="8">
                     {{boxShares[0].Box_Three.Purchace_Percent}}
                    </nz-form-control>
                  </nz-form-item>
                </div>
                  <div nz-col nzSpan="4">
                    <nz-form-item>
                      <nz-form-label nzSpan="14">Gift Percent</nz-form-label>
                      <nz-form-control nzSpan="8">
                       {{boxShares[0].Box_Three.Gift_Percent}}
                      </nz-form-control>
                    </nz-form-item>
                </div>
                  <div nz-col nzSpan="4">
                    <nz-form-item>
                      <nz-form-label nzSpan="14">Coupon Percent</nz-form-label>
                      <nz-form-control nzSpan="8">
                       {{boxShares[0].Box_Three.Upgrade_Coupon_Percent}}
                      </nz-form-control>
                    </nz-form-item>
                </div>
                  <div nz-col nzSpan="4">
                    <nz-form-item>
                      <nz-form-label nzSpan="14">Nine Level Percent</nz-form-label>
                      <nz-form-control nzSpan="8">
                       {{boxShares[0].Box_Three.Nine_Level_Percent}}
                      </nz-form-control>
                    </nz-form-item>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </nz-card>
  </div>
</div>
<div nz-row style="margin-top: 50px;" *ngIf="isvisible">
  <div nz-col nzSpan="24">
    <nz-card [nzTitle]="title">
        <ng-template #title>
          <span>Update Box Shares</span>
        </ng-template>
        <form nz-form [formGroup]="addboxSharesForm">
          <div nz-row nzGutter="8">
            <div nz-col nzSpan="6">
              <nz-form-item>
                <nz-form-label>Product Name</nz-form-label>
                <nz-form-control>
                  <input nz-input formControlName="Product_Name" placeholder="please enter Product Name" />
                  <nz-form-explain *ngIf="addboxSharesForm.get('Product_Name').dirty && addboxSharesForm.get('Product_Name').errors">Please
                      input your Product Name!</nz-form-explain>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="6">
              <nz-form-item>
                <nz-form-label>Description</nz-form-label>
                <nz-form-control>
                  <input nz-input formControlName="Description" placeholder="please enter Description" />
                  <nz-form-explain *ngIf="addboxSharesForm.get('Description').dirty && addboxSharesForm.get('Description').errors">Please
                      input your Description!</nz-form-explain>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="6">
               
              <nz-form-item>
                <nz-form-label>Price</nz-form-label>
                <nz-form-control>
                  <input nz-input formControlName="Price" placeholder="please enter Price" />
                  <nz-form-explain *ngIf="addboxSharesForm.get('Price').dirty && addboxSharesForm.get('Price').errors">Please
                      input your Price!</nz-form-explain>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="6">
               
              <nz-form-item>
                <nz-form-label>Image</nz-form-label>
                <nz-form-control>
                  <button nz-button nzType="link" (click)="onUploadProductImage()">Click To Upload</button>
                </nz-form-control>
                <nz-form-control *ngIf="ImageData.length>0">
                  <a target="_blank" [attr.href]="ImageData[0].ImageOriginal">Click To view
                    Image</a>
                </nz-form-control>
              </nz-form-item>
            </div>
          </div>
          <div nz-row [nzGutter]="16">
            <h3><b>Box One</b></h3>
            <div nz-col nzSpan="4">
              <nz-form-item>
                <nz-form-label>Cash Percent</nz-form-label>
                <nz-form-control>
                  <input nz-input formControlName="Cash_Percent1" placeholder="please enter Cash Percent" />
                  <nz-form-explain *ngIf="addboxSharesForm.get('Cash_Percent1').dirty && addboxSharesForm.get('Cash_Percent1').errors">Please
                      input your Cash Percent!</nz-form-explain>
                </nz-form-control>
              </nz-form-item>
              </div>
            <div nz-col nzSpan="4">
              <nz-form-item>
                <nz-form-label>Purchace Percent</nz-form-label>
                <nz-form-control>
                  <input nz-input formControlName="Purchace_Percent1" placeholder="please enter Purchace Percent" />
                  <nz-form-explain *ngIf="addboxSharesForm.get('Purchace_Percent1').dirty && addboxSharesForm.get('Purchace_Percent1').errors">Please
                      input your Purchace Percent!</nz-form-explain>
                </nz-form-control>
              </nz-form-item>
              </div>
            <div nz-col nzSpan="4">
              <nz-form-item>
                <nz-form-label>Gift Percent</nz-form-label>
                <nz-form-control>
                  <input nz-input formControlName="Gift_Percent1" placeholder="please enter Gift Percent" />
                  <nz-form-explain *ngIf="addboxSharesForm.get('Gift_Percent1').dirty && addboxSharesForm.get('Gift_Percent1').errors">Please
                      input your Gift Percent!</nz-form-explain>
                </nz-form-control>
              </nz-form-item>
              </div>
            <div nz-col nzSpan="4">
              <nz-form-item>
                <nz-form-label>Coupon Percent</nz-form-label>
                <nz-form-control>
                  <input nz-input formControlName="Upgrade_Coupon_Percent1" placeholder="please enter Coupon Percent" />
                  <nz-form-explain *ngIf="addboxSharesForm.get('Upgrade_Coupon_Percent1').dirty && addboxSharesForm.get('Upgrade_Coupon_Percent1').errors">Please
                      input your Coupon Percent!</nz-form-explain>
                </nz-form-control>
              </nz-form-item>
              </div>
            <div nz-col nzSpan="4">
              <nz-form-item>
                <nz-form-label>Nine Level Percent</nz-form-label>
                <nz-form-control>
                  <input nz-input formControlName="Nine_Level_Percent1" placeholder="please enter Nine Level Percent" />
                  <nz-form-explain *ngIf="addboxSharesForm.get('Nine_Level_Percent1').dirty && addboxSharesForm.get('Nine_Level_Percent1').errors">Please
                      input your Nine Level Percent!</nz-form-explain>
                </nz-form-control>
              </nz-form-item>
              </div>
              <div nz-col nzSpan="4">
                <nz-form-item>
                  <nz-form-label>Total</nz-form-label>
                  <nz-form-control>
                    <button nz-button nzType="link" style="    color: green;
                    font-size: 18px;
                    font-weight: 600;">
                      {{(+addboxSharesForm.value.Cash_Percent1)+(+addboxSharesForm.value.Purchace_Percent1)+
                        (+addboxSharesForm.value.Gift_Percent1)+(+addboxSharesForm.value.Upgrade_Coupon_Percent1)+
                        (+addboxSharesForm.value.Nine_Level_Percent1)}}
                    </button>
                  </nz-form-control>
                </nz-form-item>
                </div>
          </div>
          <div nz-row [nzGutter]="16">
            <h3><b>Box Two</b></h3>
            <div nz-col nzSpan="4">
              <nz-form-item>
                <nz-form-label>Cash Percent</nz-form-label>
                <nz-form-control>
                  <input nz-input formControlName="Cash_Percent2" placeholder="please enter Cash Percent" />
                  <nz-form-explain *ngIf="addboxSharesForm.get('Cash_Percent2').dirty && addboxSharesForm.get('Cash_Percent2').errors">Please
                      input your Cash Percent!</nz-form-explain>
                </nz-form-control>
              </nz-form-item>
              </div>
            <div nz-col nzSpan="4">
              <nz-form-item>
                <nz-form-label>Purchace Percent</nz-form-label>
                <nz-form-control>
                  <input nz-input formControlName="Purchace_Percent2" placeholder="please enter Purchace Percent" />
                  <nz-form-explain *ngIf="addboxSharesForm.get('Purchace_Percent2').dirty && addboxSharesForm.get('Purchace_Percent2').errors">Please
                      input your Purchace Percent!</nz-form-explain>
                </nz-form-control>
              </nz-form-item>
              </div>
            <div nz-col nzSpan="4">
              <nz-form-item>
                <nz-form-label>Gift Percent</nz-form-label>
                <nz-form-control>
                  <input nz-input formControlName="Gift_Percent2" placeholder="please enter Gift Percent" />
                  <nz-form-explain *ngIf="addboxSharesForm.get('Gift_Percent2').dirty && addboxSharesForm.get('Gift_Percent2').errors">Please
                      input your Gift Percent!</nz-form-explain>
                </nz-form-control>
              </nz-form-item>
              </div>
            <div nz-col nzSpan="4">
              <nz-form-item>
                <nz-form-label>Coupon Percent</nz-form-label>
                <nz-form-control>
                  <input nz-input formControlName="Upgrade_Coupon_Percent2" placeholder="please enter Coupon Percent" />
                  <nz-form-explain *ngIf="addboxSharesForm.get('Upgrade_Coupon_Percent2').dirty && addboxSharesForm.get('Upgrade_Coupon_Percent2').errors">Please
                      input your Coupon Percent!</nz-form-explain>
                </nz-form-control>
              </nz-form-item>
              </div>
            <div nz-col nzSpan="4">
              <nz-form-item>
                <nz-form-label>Nine Level Percent</nz-form-label>
                <nz-form-control>
                  <input nz-input formControlName="Nine_Level_Percent2" placeholder="please enter Nine Level Percent" />
                  <nz-form-explain *ngIf="addboxSharesForm.get('Nine_Level_Percent2').dirty && addboxSharesForm.get('Nine_Level_Percent2').errors">Please
                      input your Nine Level Percent!</nz-form-explain>
                </nz-form-control>
              </nz-form-item>
              </div>
              <div nz-col nzSpan="4">
                <nz-form-item>
                  <nz-form-label>Total</nz-form-label>
                  <nz-form-control>
                    <button nz-button nzType="link" style="    color: green;
                    font-size: 18px;
                    font-weight: 600;">
                      {{(+addboxSharesForm.value.Cash_Percent2)+(+addboxSharesForm.value.Purchace_Percent2)+
                        (+addboxSharesForm.value.Gift_Percent2)+(+addboxSharesForm.value.Upgrade_Coupon_Percent2)+
                        (+addboxSharesForm.value.Nine_Level_Percent2)}}
                    </button>
                  </nz-form-control>
                </nz-form-item>
                </div>
          </div>
          <div nz-row [nzGutter]="16">
            <h3><b>Box Three</b></h3>
            <div nz-col nzSpan="4">
              <nz-form-item>
                <nz-form-label>Cash Percent</nz-form-label>
                <nz-form-control>
                  <input nz-input formControlName="Cash_Percent3" placeholder="please enter Cash Percent" />
                  <nz-form-explain *ngIf="addboxSharesForm.get('Cash_Percent3').dirty && addboxSharesForm.get('Cash_Percent3').errors">Please
                      input your Cash Percent!</nz-form-explain>
                </nz-form-control>
              </nz-form-item>
              </div>
            <div nz-col nzSpan="4">
              <nz-form-item>
                <nz-form-label>Purchace Percent</nz-form-label>
                <nz-form-control>
                  <input nz-input formControlName="Purchace_Percent3" placeholder="please enter Purchace Percent" />
                  <nz-form-explain *ngIf="addboxSharesForm.get('Purchace_Percent3').dirty && addboxSharesForm.get('Purchace_Percent3').errors">Please
                      input your Purchace Percent!</nz-form-explain>
                </nz-form-control>
              </nz-form-item>
              </div>
            <div nz-col nzSpan="4">
              <nz-form-item>
                <nz-form-label>Gift Percent</nz-form-label>
                <nz-form-control>
                  <input nz-input formControlName="Gift_Percent3" placeholder="please enter Gift Percent" />
                  <nz-form-explain *ngIf="addboxSharesForm.get('Gift_Percent3').dirty && addboxSharesForm.get('Gift_Percent3').errors">Please
                      input your Gift Percent!</nz-form-explain>
                </nz-form-control>
              </nz-form-item>
              </div>
            <div nz-col nzSpan="4">
              <nz-form-item>
                <nz-form-label>Coupon Percent</nz-form-label>
                <nz-form-control>
                  <input nz-input formControlName="Upgrade_Coupon_Percent3" placeholder="please enter Coupon Percent" />
                  <nz-form-explain *ngIf="addboxSharesForm.get('Upgrade_Coupon_Percent3').dirty && addboxSharesForm.get('Upgrade_Coupon_Percent3').errors">Please
                      input your Coupon Percent!</nz-form-explain>
                </nz-form-control>
              </nz-form-item>
              </div>
            <div nz-col nzSpan="4">
              <nz-form-item>
                <nz-form-label>Nine Level Percent</nz-form-label>
                <nz-form-control>
                  <input nz-input formControlName="Nine_Level_Percent3" placeholder="please enter Nine Level Percent" />
                  <nz-form-explain *ngIf="addboxSharesForm.get('Nine_Level_Percent3').dirty && addboxSharesForm.get('Nine_Level_Percent3').errors">Please
                      input your Nine Level Percent!</nz-form-explain>
                </nz-form-control>
              </nz-form-item>
              </div>
              <div nz-col nzSpan="4">
                <nz-form-item>
                  <nz-form-label>Total</nz-form-label>
                  <nz-form-control>
                    <button nz-button nzType="link" style="    color: green;
                    font-size: 18px;
                    font-weight: 600;">
                      {{(+addboxSharesForm.value.Cash_Percent3)+(+addboxSharesForm.value.Purchace_Percent3)+
                        (+addboxSharesForm.value.Gift_Percent3)+(+addboxSharesForm.value.Upgrade_Coupon_Percent3)+
                        (+addboxSharesForm.value.Nine_Level_Percent3)}}
                    </button>
                  </nz-form-control>
                </nz-form-item>
                </div>
          </div>
      

            <div class="footer">
                <button nz-button nzType="primary" class="primary_button1 ant-btn ant-btn-primary" [nzLoading]="isAddButton"
                (click)="onAddCategory()" style="margin-right: 10px;"><span>Update</span></button>
                <button nz-button nzType="danger" class="primary_button1 ant-btn ant-btn-primary"
                (click)="onCancel()"><span>Cancel</span></button>
              </div>
        </form>
      </nz-card>
   
  </div>
</div>

<nz-drawer [nzBodyStyle]="{ height: 'calc(100% - 55px)', overflow: 'auto', 'padding-bottom': '53px' }"
  [nzMaskClosable]="false" [nzWidth]="500" [nzVisible]="isImageUploading" [nzTitle]="'Upload Image'"
  (nzOnClose)="onCloseImageDrawer()">
  <div nz-col nzSpan="12" [nzOffset]="2">

      <div>
        <input type="file" accept="image/gif, image/jpeg, image/png" #myInput (change)="fileChangeEvent($event)" />
        <image-cropper [imageChangedEvent]="imageChangedEvent" [aspectRatio]="1/1"
           [cropperMinWidth]="'cropperMinWidth'"
          [cropperMinHeight]="cropperMinHeight" [onlyScaleDown]="true" [roundCropper]="false" format="png"
          outputType="base64" (imageCropped)="imageCropped($event)" (imageLoaded)="imageLoaded()"
          (cropperReady)="cropperReady()" (loadImageFailed)="loadImageFailed()"
          [style.display]="showCropper ? null : 'none'" [alignImage]="'left'">
        </image-cropper>
      </div>
    <!-- <nz-card > -->
      <div nz-row [nzGutter]="16" *ngIf="croppedImage.length>0">
        <div nz-col nzSpan="12">
          <img [src]="croppedImage" style="width: 100%;" />
        </div>
        <div nz-col nzSpan="12">
          <div nz-row style="margin-top: 10px;" *ngIf="croppedImage.length>0">
            <button type="button" (click)="onCloseImageDrawer()" class="ant-btn"
              style="margin-right: 10px;"><span>Cancel</span></button>
            <button type="button" nz-button nzType="primary" [nzLoading]="isUploadBtnLoading"
              class="ant-btn ant-btn-primary" (click)="onSucessCroping()"><span>Upload to Server</span></button>
          </div>
        </div>

      </div>
    <!-- </nz-card> -->



  </div>
</nz-drawer>